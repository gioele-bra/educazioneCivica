{"version":3,"sources":["../esm2015/libs/angular-google-charts/src/lib/components/chart-editor/chart-editor-ref.ts","../libs/angular-google-charts/src/lib/models/injection-tokens.model.ts","../libs/angular-google-charts/src/lib/script-loader/script-loader.service.ts","../esm2015/libs/angular-google-charts/src/lib/components/chart-editor/chart-editor.component.ts","../../../node_modules/tslib/tslib.es6.js","../esm2015/libs/angular-google-charts/src/lib/components/control-wrapper/control-wrapper.component.ts","../libs/angular-google-charts/src/lib/helpers/id.helper.ts","../esm2015/libs/angular-google-charts/src/lib/components/dashboard/dashboard.component.ts","../esm2015/libs/angular-google-charts/src/lib/components/google-chart/google-chart.component.ts","../libs/angular-google-charts/src/lib/models/chart-type.model.ts","../esm2015/libs/angular-google-charts/src/lib/components/chart-wrapper/chart-wrapper.component.ts","../libs/angular-google-charts/src/lib/helpers/chart.helper.ts","../libs/angular-google-charts/src/lib/models/control-type.model.ts","../../libs/angular-google-charts/src/lib/google-charts.module.ts"],"names":["ChartEditorRef","editor","this","doneSubject","Subject","addEventListeners","prototype","afterClosed","asObservable","cancel","closeDialog","_this","google","visualization","events","addOneTimeListener","removeAllListeners","updatedChartWrapper","getChartWrapper","next","complete","GOOGLE_CHARTS_CONFIG","InjectionToken","DEFAULT_CONFIG","version","safeMode","ScriptLoaderService","zone","localeId","config","scriptSource","scriptLoadSubject","Object","assign","isGoogleChartsAvailable","charts","loadChartPackages","packages","_i","arguments","length","loadGoogleCharts","pipe","switchMap","Observable","observer","language","mapsApiKey","load","setOnLoadCallback","run","of","isLoadingGoogleCharts","script","createGoogleChartsScript","onload","onerror","console","error","Error","getGoogleChartsScript","Array","from","document","getElementsByTagName","find","src","createElement","type","async","appendChild","Injectable","NgZone","Inject","args","LOCALE_ID","Optional","ChartEditorComponent","scriptLoaderService","initializedSubject","defineProperty","ngOnInit","subscribe","ChartEditor","editChart","component","options","chartWrapper","handle","openDialog","result","Component","selector","template","host","class","changeDetection","ChangeDetectionStrategy","OnPush","create","__values","o","s","Symbol","iterator","m","i","call","value","done","TypeError","__read","n","r","e","ar","push","__spread","concat","ControlWrapperComponent","loaderService","EventEmitter","ready","stateChange","id","Math","random","toString","substr","wrapperReadySubject","ReplaySubject","_controlWrapper","createControlWrapper","ngOnChanges","changes","setControlType","setOptions","state","setState","ControlWrapper","containerId","controlType","addListener","event","emit","exportAs","Input","Output","HostBinding","DashboardComponent","element","initialized","createDataTable","createDashboard","data","columns","dashboard","draw","dataTable","controlWrappersReady$","controlWrappers","map","control","wrapperReady$","chartsReady$","for","isArray","combineLatest","chart","Dashboard","nativeElement","initializeBindings","registerEvents","registerDashEvent","object","eventName","callback","forEach","chartWrappers","bind","controlWrapper","firstRowIsData","arrayToDataTable","getDataAsTable","ElementRef","ContentChildren","GoogleChartComponent","dynamicResize","select","mouseover","mouseleave","getChart","wrapper","drawChart","ChartWrapper","container","chartType","mergeOptions","registerChartEvents","updateResizeListener","shouldRedraw","formatters","setDataTable","setChartType","width","height","title","applyFormatters","undefined","resizeSubscription","unsubscribe","fromEvent","window","debounceTime","_b","_c","val","formatter","format","colIndex","registerChartEvent","selection","getSelection","decorators","ChartType","ChartWrapperComponent","specs","_a","t","p","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","updateChart","setDataSourceUrl","dataSourceUrl","setQuery","query","setRefreshInterval","refreshInterval","setView","view","FilterType","ChartTypesToPackages","AnnotationChart","AreaChart","Bar","BarChart","BubbleChart","Calendar","CandlestickChart","ColumnChart","ComboChart","PieChart","Gantt","Gauge","GeoChart","Histogram","Line","LineChart","Map","OrgChart","Sankey","Scatter","ScatterChart","SteppedAreaChart","Table","Timeline","TreeMap","WordTree","GoogleChartsModule","forRoot","ngModule","providers","provide","useValue","NgModule","declarations","exports"],"mappings":"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","sourcesContent":["/// <reference path=\"./types.ts\" />\n\nimport { Observable, Subject } from 'rxjs';\n\nexport type EditChartResult = google.visualization.ChartWrapper | null;\n\nexport class ChartEditorRef {\n  private readonly doneSubject = new Subject<EditChartResult>();\n\n  constructor(private readonly editor: google.visualization.ChartEditor) {\n    this.addEventListeners();\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is saved.\n   * Emits either the result if the dialog was saved or `null` if editing was cancelled.\n   */\n  public afterClosed(): Observable<EditChartResult> {\n    return this.doneSubject.asObservable();\n  }\n\n  /**\n   * Stops editing the chart and closes the dialog.\n   */\n  public cancel() {\n    this.editor.closeDialog();\n  }\n\n  private addEventListeners() {\n    google.visualization.events.addOneTimeListener(this.editor, 'ok', () => {\n      google.visualization.events.removeAllListeners(this.editor);\n\n      const updatedChartWrapper = this.editor.getChartWrapper();\n\n      this.doneSubject.next(updatedChartWrapper);\n      this.doneSubject.complete();\n    });\n\n    google.visualization.events.addOneTimeListener(this.editor, 'cancel', () => {\n      google.visualization.events.removeAllListeners(this.editor);\n\n      this.doneSubject.next(null);\n      this.doneSubject.complete();\n    });\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { GoogleChartsConfig } from './google-charts-config.model';\n\nexport const GOOGLE_CHARTS_CONFIG = new InjectionToken<GoogleChartsConfig>('GOOGLE_CHARTS_CONFIG');\n","import { Inject, Injectable, LOCALE_ID, NgZone, Optional } from '@angular/core';\nimport { Observable, of, Subject } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nimport { GoogleChartsConfig } from '../models/google-charts-config.model';\nimport { GOOGLE_CHARTS_CONFIG } from '../models/injection-tokens.model';\n\nconst DEFAULT_CONFIG: GoogleChartsConfig = {\n  version: 'current',\n  safeMode: false\n};\n\n@Injectable()\nexport class ScriptLoaderService {\n  private readonly scriptSource = 'https://www.gstatic.com/charts/loader.js';\n  private readonly scriptLoadSubject = new Subject<null>();\n  private readonly config: GoogleChartsConfig;\n\n  constructor(\n    private zone: NgZone,\n    @Inject(LOCALE_ID) private localeId: string,\n    @Inject(GOOGLE_CHARTS_CONFIG) @Optional() config?: GoogleChartsConfig\n  ) {\n    this.config = { ...DEFAULT_CONFIG, ...(config || {}) };\n  }\n\n  /**\n   * Checks whether `google.charts` is available.\n   *\n   * If not, it can be loaded by calling `loadChartPackages`.\n   *\n   * @returns `true` if `google.charts` is available, `false` otherwise.\n   */\n  public isGoogleChartsAvailable(): boolean {\n    if (typeof google === 'undefined' || typeof google.charts === 'undefined') {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Loads the Google Chart script and the provided chart packages.\n   * Can be called multiple times to load more packages.\n   *\n   * When called without any arguments, this will just load the default package\n   * containing the namespaces `google.charts` and `google.visualization` without any charts.\n   *\n   * @param packages The packages to load.\n   * @returns A stream emitting as soon as the chart packages are loaded.\n   */\n  public loadChartPackages(...packages: string[]): Observable<null> {\n    return this.loadGoogleCharts().pipe(\n      switchMap(() => {\n        return new Observable<null>(observer => {\n          const config = {\n            packages,\n            language: this.localeId,\n            mapsApiKey: this.config.mapsApiKey,\n            safeMode: this.config.safeMode\n          };\n\n          google.charts.load(this.config.version!, config);\n          google.charts.setOnLoadCallback(() => {\n            this.zone.run(() => {\n              observer.next();\n              observer.complete();\n            });\n          });\n        });\n      })\n    );\n  }\n\n  /**\n   * Loads the Google Charts script. After the script is loaded, `google.charts` is defined.\n   *\n   * @returns A stream emitting as soon as loading has completed.\n   * If the google charts script is already loaded, the stream emits immediately.\n   */\n  private loadGoogleCharts(): Observable<null> {\n    if (this.isGoogleChartsAvailable()) {\n      return of(null);\n    } else if (!this.isLoadingGoogleCharts()) {\n      const script = this.createGoogleChartsScript();\n      script.onload = () => {\n        this.zone.run(() => {\n          this.scriptLoadSubject.next();\n          this.scriptLoadSubject.complete();\n        });\n      };\n\n      script.onerror = () => {\n        this.zone.run(() => {\n          console.error('Failed to load the google charts script!');\n          this.scriptLoadSubject.error(new Error('Failed to load the google charts script!'));\n        });\n      };\n    }\n\n    return this.scriptLoadSubject.asObservable();\n  }\n\n  private isLoadingGoogleCharts() {\n    return this.getGoogleChartsScript() != null;\n  }\n\n  private getGoogleChartsScript(): HTMLScriptElement | undefined {\n    const pageScripts = Array.from(document.getElementsByTagName('script'));\n    return pageScripts.find(script => script.src === this.scriptSource);\n  }\n\n  private createGoogleChartsScript(): HTMLScriptElement {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = this.scriptSource;\n    script.async = true;\n    document.getElementsByTagName('head')[0].appendChild(script);\n    return script;\n  }\n}\n","/// <reference path=\"./types.ts\" />\n\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { ScriptLoaderService } from '../../script-loader/script-loader.service';\nimport { ChartBase } from '../chart-base/chart-base.component';\n\nimport { ChartEditorRef } from './chart-editor-ref';\n\n@Component({\n  selector: 'chart-editor',\n  template: `<ng-content></ng-content>`,\n  host: { class: 'chart-editor' },\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ChartEditorComponent implements OnInit {\n  private editor: google.visualization.ChartEditor | undefined;\n  private initializedSubject = new Subject<google.visualization.ChartEditor>();\n\n  constructor(private scriptLoaderService: ScriptLoaderService) {}\n\n  /**\n   * Emits as soon as the chart editor is fully initialized.\n   */\n  public get initialized$() {\n    return this.initializedSubject.asObservable();\n  }\n\n  public ngOnInit() {\n    this.scriptLoaderService.loadChartPackages('charteditor').subscribe(() => {\n      this.editor = new google.visualization.ChartEditor();\n      this.initializedSubject.next(this.editor);\n      this.initializedSubject.complete();\n    });\n  }\n\n  /**\n   * Opens the chart editor as an embedded dialog box on the page.\n   * If the editor gets saved, the components' chart will be updated with the result.\n   *\n   * @param component The chart to be edited.\n   * @returns A reference to the open editor.\n   */\n  public editChart(component: ChartBase): ChartEditorRef;\n  public editChart(component: ChartBase, options: google.visualization.ChartEditorOptions): ChartEditorRef;\n  public editChart(component: ChartBase, options?: google.visualization.ChartEditorOptions) {\n    if (!component.chartWrapper) {\n      throw new Error('Chart wrapper is `undefined`. Please wait for the `initialized$` observable before trying to edit a chart.');\n    }\n    if (!this.editor) {\n      throw new Error('Chart editor is `undefined`. Please wait for the `initialized$` observable before trying to edit a chart.');\n    }\n\n    const handle = new ChartEditorRef(this.editor);\n    this.editor.openDialog(component.chartWrapper, options || {});\n\n    handle.afterClosed().subscribe(result => {\n      if (result) {\n        component.chartWrapper = result;\n      }\n    });\n\n    return handle;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\nimport { generateRandomId } from '../../helpers/id.helper';\nimport { FilterType } from '../../models/control-type.model';\nimport { ChartErrorEvent, ChartReadyEvent } from '../../models/events.model';\nimport { ScriptLoaderService } from '../../script-loader/script-loader.service';\nimport { ChartBase } from '../chart-base/chart-base.component';\n\n@Component({\n  selector: 'control-wrapper',\n  template: '',\n  host: { class: 'control-wrapper' },\n  exportAs: 'controlWrapper',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ControlWrapperComponent implements OnInit, OnChanges {\n  /**\n   * Charts controlled by this control wrapper. Can be a single chart or an array of charts.\n   */\n  @Input()\n  public for!: ChartBase | ChartBase[];\n\n  /**\n   * The class name of the control.\n   * The `google.visualization` package name can be omitted for Google controls.\n   *\n   * @example\n   *\n   * ```html\n   * <control-wrapper type=\"CategoryFilter\"></control-wrapper>\n   * ```\n   */\n  @Input()\n  public type!: FilterType;\n\n  /**\n   * An object describing the options for the control.\n   * You can use either JavaScript literal notation, or provide a handle to the object.\n   *\n   * @example\n   *\n   * ```html\n   * <control-wrapper [options]=\"{'filterColumnLabel': 'Age', 'minValue': 10, 'maxValue': 80}\"></control-wrapper>\n   * ```\n   */\n  @Input()\n  public options?: object;\n\n  /**\n   * An object describing the state of the control.\n   * The state collects all the variables that the user operating the control can affect.\n   *\n   * For example, a range slider state can be described in term of the positions that the low and high thumb\n   * of the slider occupy.\n   * You can use either Javascript literal notation, or provide a handle to the object.\n   *\n   * @example\n   *\n   *  ```html\n   * <control-wrapper [state]=\"{'lowValue': 20, 'highValue': 50}\"></control-wrapper>\n   * ```\n   */\n  @Input()\n  public state?: object;\n\n  /**\n   * Emits when an error occurs when attempting to render the control.\n   */\n  @Output()\n  public error = new EventEmitter<ChartErrorEvent>();\n\n  /**\n   * The control is ready to accept user interaction and for external method calls.\n   *\n   * Alternatively, you can listen for a ready event on the dashboard holding the control\n   * and call control methods only after the event was fired.\n   */\n  @Output()\n  public ready = new EventEmitter<ChartReadyEvent>();\n\n  /**\n   * Emits when the user interacts with the control, affecting its state.\n   * For example, a `stateChange` event will be emitted whenever you move the thumbs of a range slider control.\n   *\n   * To retrieve an updated control state after the event fired, call `ControlWrapper.getState()`.\n   */\n  @Output()\n  public stateChange = new EventEmitter<unknown>();\n\n  /**\n   * A generated id assigned to this components DOM element.\n   */\n  @HostBinding('id')\n  public readonly id = generateRandomId();\n\n  private _controlWrapper?: google.visualization.ControlWrapper;\n  private wrapperReadySubject = new ReplaySubject<google.visualization.ControlWrapper>(1);\n\n  constructor(private loaderService: ScriptLoaderService) {}\n\n  /**\n   * Emits after the `ControlWrapper` was created.\n   */\n  public get wrapperReady$() {\n    return this.wrapperReadySubject.asObservable();\n  }\n\n  public get controlWrapper(): google.visualization.ControlWrapper {\n    if (!this._controlWrapper) {\n      throw new Error(`Cannot access the control wrapper before it being initialized.`);\n    }\n\n    return this._controlWrapper;\n  }\n\n  public ngOnInit() {\n    this.loaderService.loadChartPackages('controls').subscribe(() => {\n      this.createControlWrapper();\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if (!this._controlWrapper) {\n      return;\n    }\n\n    if (changes.type) {\n      this._controlWrapper.setControlType(this.type);\n    }\n\n    if (changes.options) {\n      this._controlWrapper.setOptions(this.options || {});\n    }\n\n    if (changes.state) {\n      this._controlWrapper.setState(this.state || {});\n    }\n  }\n\n  private createControlWrapper() {\n    this._controlWrapper = new google.visualization.ControlWrapper({\n      containerId: this.id,\n      controlType: this.type,\n      state: this.state,\n      options: this.options\n    });\n\n    this.addEventListeners();\n    this.wrapperReadySubject.next(this._controlWrapper);\n  }\n\n  private addEventListeners() {\n    google.visualization.events.removeAllListeners(this._controlWrapper);\n\n    google.visualization.events.addListener(this._controlWrapper, 'ready', (event: ChartReadyEvent) => this.ready.emit(event));\n    google.visualization.events.addListener(this._controlWrapper, 'error', (event: ChartErrorEvent) => this.error.emit(event));\n    google.visualization.events.addListener(this._controlWrapper, 'statechange', (event: unknown) => this.stateChange.emit(event));\n  }\n}\n","/**\n * Generates a random ID which can be used to uniquely identify an element.\n */\nexport function generateRandomId() {\n  // Math.random should be unique because of its seeding algorithm.\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n  // after the decimal.\n  return '_' + Math.random().toString(36).substr(2, 9);\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  QueryList,\n  SimpleChanges\n} from '@angular/core';\nimport { combineLatest } from 'rxjs';\n\nimport { ChartErrorEvent } from '../../models/events.model';\nimport { ScriptLoaderService } from '../../script-loader/script-loader.service';\nimport { Column, Row } from '../chart-base/chart-base.component';\nimport { ControlWrapperComponent } from '../control-wrapper/control-wrapper.component';\n\n@Component({\n  selector: 'dashboard',\n  template: '<ng-content></ng-content>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'dashboard',\n  host: { class: 'dashboard' }\n})\nexport class DashboardComponent implements OnInit, OnChanges {\n  /**\n   * Data used to initialize the table.\n   *\n   * This must also contain all roles that are set in the `columns` property.\n   */\n  @Input()\n  public data!: Row[];\n\n  /**\n   * The columns the `data` consists of.\n   * The length of this array must match the length of each row in the `data` object.\n   *\n   * If {@link https://developers.google.com/chart/interactive/docs/roles roles} should be applied, they must be included in this array as well.\n   */\n  @Input()\n  public columns?: Column[];\n\n  /**\n   * The dashboard has completed drawing and is ready to accept changes.\n   *\n   * The ready event will also fire:\n   * - after the completion of a dashboard refresh triggered by a user or programmatic interaction with one of the controls,\n   * - after redrawing any chart on the dashboard.\n   */\n  @Output()\n  public ready = new EventEmitter<void>();\n\n  /**\n   * Emits when an error occurs when attempting to render the dashboard.\n   * One or more of the controls and charts that are part of the dashboard may have failed rendering.\n   */\n  @Output()\n  public error = new EventEmitter<ChartErrorEvent>();\n\n  @ContentChildren(ControlWrapperComponent)\n  private controlWrappers!: QueryList<ControlWrapperComponent>;\n\n  private dashboard?: google.visualization.Dashboard;\n  private dataTable?: google.visualization.DataTable;\n  private initialized = false;\n\n  constructor(private element: ElementRef, private loaderService: ScriptLoaderService) {}\n\n  public ngOnInit() {\n    this.loaderService.loadChartPackages('controls').subscribe(() => {\n      this.createDataTable();\n      this.createDashboard();\n      this.initialized = true;\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if (!this.initialized) {\n      return;\n    }\n\n    if (changes.data || changes.columns) {\n      this.createDataTable();\n      this.dashboard!.draw(this.dataTable!);\n    }\n  }\n\n  private createDashboard(): void {\n    // TODO: This should happen in the control wrapper\n    // However, I don't yet know how to do this because then `bind()` would get called multiple times\n    // for the same control if something changes. This is not supported by google charts as far as I can tell\n    // from their source code.\n    const controlWrappersReady$ = this.controlWrappers.map(control => control.wrapperReady$);\n    const chartsReady$ = this.controlWrappers\n      .map(control => control.for)\n      .map(charts => {\n        if (Array.isArray(charts)) {\n          // CombineLatest waits for all observables\n          return combineLatest(charts.map(chart => chart.wrapperReady$));\n        } else {\n          return charts.wrapperReady$;\n        }\n      });\n\n    // We have to wait for all chart wrappers and control wrappers to be initialized\n    // before we can compose them together to create the dashboard\n    combineLatest([...controlWrappersReady$, ...chartsReady$]).subscribe(() => {\n      this.dashboard = new google.visualization.Dashboard(this.element.nativeElement);\n      this.initializeBindings();\n      this.registerEvents();\n      this.dashboard.draw(this.dataTable!);\n    });\n  }\n\n  private registerEvents(): void {\n    google.visualization.events.removeAllListeners(this.dashboard);\n\n    const registerDashEvent = (object: any, eventName: string, callback: Function) => {\n      google.visualization.events.addListener(object, eventName, callback);\n    };\n\n    registerDashEvent(this.dashboard, 'ready', () => this.ready.emit());\n    registerDashEvent(this.dashboard, 'error', (error: ChartErrorEvent) => this.error.emit(error));\n  }\n\n  private initializeBindings(): void {\n    this.controlWrappers.forEach(control => {\n      if (Array.isArray(control.for)) {\n        const chartWrappers = control.for.map(chart => chart.chartWrapper);\n        this.dashboard!.bind(control.controlWrapper, chartWrappers);\n      } else {\n        this.dashboard!.bind(control.controlWrapper, control.for.chartWrapper);\n      }\n    });\n  }\n\n  private createDataTable(): void {\n    if (this.data == null) {\n      return;\n    }\n\n    let firstRowIsData = true;\n    if (this.columns != null) {\n      firstRowIsData = false;\n    }\n\n    this.dataTable = google.visualization.arrayToDataTable(this.getDataAsTable(), firstRowIsData);\n  }\n\n  private getDataAsTable(): (Row | Column[])[] {\n    if (this.columns) {\n      return [this.columns, ...this.data];\n    } else {\n      return this.data;\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Optional,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { fromEvent, Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { ChartType } from '../../models/chart-type.model';\nimport {\n  ChartErrorEvent,\n  ChartMouseLeaveEvent,\n  ChartMouseOverEvent,\n  ChartReadyEvent,\n  ChartSelectionChangedEvent\n} from '../../models/events.model';\nimport { ScriptLoaderService } from '../../script-loader/script-loader.service';\nimport { ChartBase, Column, Row } from '../chart-base/chart-base.component';\nimport { DashboardComponent } from '../dashboard/dashboard.component';\n\nexport interface Formatter {\n  formatter: google.visualization.DefaultFormatter;\n  colIndex: number;\n}\n\n@Component({\n  selector: 'google-chart',\n  template: '',\n  styles: [':host { width: fit-content; display: block; }'],\n  host: { class: 'google-chart' },\n  exportAs: 'googleChart',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GoogleChartComponent implements ChartBase, OnChanges, OnInit {\n  /**\n   * The type of the chart to create.\n   */\n  @Input()\n  public type!: ChartType;\n\n  /**\n   * Data used to initialize the table.\n   *\n   * This must also contain all roles that are set in the `columns` property.\n   */\n  @Input()\n  public data!: Row[];\n\n  /**\n   * The columns the `data` consists of.\n   * The length of this array must match the length of each row in the `data` object.\n   *\n   * If {@link https://developers.google.com/chart/interactive/docs/roles roles} should be applied, they must be included in this array as well.\n   */\n  @Input()\n  public columns?: Column[];\n\n  /**\n   * A convenience property used to set the title of the chart.\n   *\n   * This can also be set using `options.title`, which, if existant, will overwrite this value.\n   */\n  @Input()\n  public title?: string;\n\n  /**\n   * A convenience property used to set the width of the chart in pixels.\n   *\n   * This can also be set using `options.width`, which, if existant, will overwrite this value.\n   */\n  @Input()\n  public width?: number;\n\n  /**\n   * A convenience property used to set the height of the chart in pixels.\n   *\n   * This can also be set using `options.height`, which, if existant, will overwrite this value.\n   */\n  @Input()\n  public height?: number;\n\n  /**\n   * The chart-specific options. All options listen in the Google Charts documentation applying\n   * to the chart type specified can be used here.\n   */\n  @Input()\n  public options: object = {};\n\n  /**\n   * Used to change the displayed value of the specified column in all rows.\n   *\n   * Each array element must consist of an instance of a [`formatter`](https://developers.google.com/chart/interactive/docs/reference#formatters)\n   * and the index of the column you want the formatter to get applied to.\n   */\n  @Input()\n  public formatters?: Formatter[];\n\n  /**\n   * If this is set to `true`, the chart will be redrawn if the browser window is resized.\n   * Defaults to `false` and should only be used when specifying the width or height of the chart\n   * in percent.\n   *\n   * Note that this can impact performance.\n   */\n  @Input()\n  public dynamicResize = false;\n\n  @Output()\n  public ready = new EventEmitter<ChartReadyEvent>();\n\n  @Output()\n  public error = new EventEmitter<ChartErrorEvent>();\n\n  @Output()\n  public select = new EventEmitter<ChartSelectionChangedEvent>();\n\n  @Output()\n  public mouseover = new EventEmitter<ChartMouseOverEvent>();\n\n  @Output()\n  public mouseleave = new EventEmitter<ChartMouseLeaveEvent>();\n\n  private resizeSubscription?: Subscription;\n\n  private dataTable: google.visualization.DataTable | undefined;\n  private wrapper: google.visualization.ChartWrapper | undefined;\n  private wrapperReadySubject = new ReplaySubject<google.visualization.ChartWrapper>(1);\n  private initialized = false;\n\n  constructor(\n    private element: ElementRef,\n    private scriptLoaderService: ScriptLoaderService,\n    @Optional() private dashboard?: DashboardComponent\n  ) {}\n\n  public get chart(): google.visualization.ChartBase | null {\n    return this.chartWrapper.getChart();\n  }\n\n  public get wrapperReady$(): Observable<google.visualization.ChartWrapper> {\n    return this.wrapperReadySubject.asObservable();\n  }\n\n  public get chartWrapper(): google.visualization.ChartWrapper {\n    if (!this.wrapper) {\n      throw new Error('Trying to access the chart wrapper before it was fully initialized');\n    }\n\n    return this.wrapper;\n  }\n\n  public set chartWrapper(wrapper: google.visualization.ChartWrapper) {\n    this.wrapper = wrapper;\n    this.drawChart();\n  }\n\n  public ngOnInit() {\n    // We don't need to load any chart packages, the chart wrapper will handle this for us\n    this.scriptLoaderService.loadChartPackages().subscribe(() => {\n      this.createDataTable();\n\n      // Only ever create the wrapper once to allow animations to happen when someting changes.\n      this.wrapper = new google.visualization.ChartWrapper({\n        container: this.element.nativeElement,\n        chartType: this.type,\n        dataTable: this.dataTable,\n        options: this.mergeOptions()\n      });\n\n      this.registerChartEvents();\n\n      this.wrapperReadySubject.next(this.wrapper);\n      this.initialized = true;\n\n      this.drawChart();\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    if (changes.dynamicResize) {\n      this.updateResizeListener();\n    }\n\n    if (this.initialized) {\n      let shouldRedraw = false;\n      if (changes.data || changes.columns || changes.formatters) {\n        this.createDataTable();\n        this.wrapper!.setDataTable(this.dataTable!);\n        shouldRedraw = true;\n      }\n\n      if (changes.type) {\n        this.wrapper!.setChartType(this.type);\n        shouldRedraw = true;\n      }\n\n      if (changes.options || changes.width || changes.height || changes.title) {\n        this.wrapper!.setOptions(this.mergeOptions());\n        shouldRedraw = true;\n      }\n\n      if (shouldRedraw) {\n        this.drawChart();\n      }\n    }\n  }\n\n  private createDataTable() {\n    if (this.data == null) {\n      this.dataTable = undefined;\n      return;\n    }\n\n    let firstRowIsData = true;\n    if (this.columns != null) {\n      firstRowIsData = false;\n    }\n\n    this.dataTable = google.visualization.arrayToDataTable(this.getDataAsTable(), firstRowIsData);\n    this.applyFormatters(this.dataTable);\n  }\n\n  private getDataAsTable(): (Row | Column[])[] {\n    if (this.columns) {\n      return [this.columns, ...this.data];\n    } else {\n      return this.data;\n    }\n  }\n\n  private updateResizeListener() {\n    if (this.resizeSubscription != null) {\n      this.resizeSubscription.unsubscribe();\n      this.resizeSubscription = undefined;\n    }\n\n    if (this.dynamicResize) {\n      this.resizeSubscription = fromEvent(window, 'resize')\n        .pipe(debounceTime(100))\n        .subscribe(() => {\n          if (this.initialized) {\n            this.drawChart();\n          }\n        });\n    }\n  }\n\n  private mergeOptions(): object {\n    return {\n      title: this.title,\n      width: this.width,\n      height: this.height,\n      ...this.options\n    };\n  }\n\n  private applyFormatters(dataTable: google.visualization.DataTable): void {\n    if (this.formatters == null) {\n      return;\n    }\n\n    for (const val of this.formatters) {\n      val.formatter.format(dataTable, val.colIndex);\n    }\n  }\n\n  private registerChartEvents() {\n    google.visualization.events.removeAllListeners(this.wrapper);\n\n    const registerChartEvent = (object: any, eventName: string, callback: Function) => {\n      google.visualization.events.addListener(object, eventName, callback);\n    };\n\n    registerChartEvent(this.wrapper, 'ready', () => {\n      // This could also be done by checking if we already subscribed to the events\n      google.visualization.events.removeAllListeners(this.chart);\n      registerChartEvent(this.chart, 'onmouseover', (event: ChartMouseOverEvent) => this.mouseover.emit(event));\n      registerChartEvent(this.chart, 'onmouseout', (event: ChartMouseLeaveEvent) => this.mouseleave.emit(event));\n      registerChartEvent(this.chart, 'select', () => {\n        const selection = this.chart!.getSelection();\n        this.select.emit({ selection });\n      });\n\n      this.ready.emit({ chart: this.chart! });\n    });\n\n    registerChartEvent(this.wrapper, 'error', (error: ChartErrorEvent) => this.error.emit(error));\n  }\n\n  private drawChart() {\n    if (this.dashboard != null) {\n      // If this chart is part of a dashboard, the dashboard takes care of drawing\n      return;\n    }\n\n    this.wrapper!.draw();\n  }\n}\n","export enum ChartType {\n  AnnotationChart = 'AnnotationChart',\n  AreaChart = 'AreaChart',\n  Bar = 'Bar',\n  BarChart = 'BarChart',\n  BubbleChart = 'BubbleChart',\n  Calendar = 'Calendar',\n  CandlestickChart = 'CandlestickChart',\n  ColumnChart = 'ColumnChart',\n  ComboChart = 'ComboChart',\n  PieChart = 'PieChart',\n  Gantt = 'Gantt',\n  Gauge = 'Gauge',\n  GeoChart = 'GeoChart',\n  Histogram = 'Histogram',\n  Line = 'Line',\n  LineChart = 'LineChart',\n  Map = 'Map',\n  OrgChart = 'OrgChart',\n  Sankey = 'Sankey',\n  Scatter = 'Scatter',\n  ScatterChart = 'ScatterChart',\n  SteppedAreaChart = 'SteppedAreaChart',\n  Table = 'Table',\n  Timeline = 'Timeline',\n  TreeMap = 'TreeMap',\n  WordTree = 'wordtree'\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\nimport { ChartErrorEvent, ChartReadyEvent, ChartSelectionChangedEvent } from '../../models/events.model';\nimport { ScriptLoaderService } from '../../script-loader/script-loader.service';\nimport { ChartBase } from '../chart-base/chart-base.component';\n\n@Component({\n  selector: 'chart-wrapper',\n  template: '',\n  styles: [':host { width: fit-content; display: block; }'],\n  host: { class: 'chart-wrapper' },\n  exportAs: 'chartWrapper',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ChartWrapperComponent implements ChartBase, OnChanges, OnInit {\n  /**\n   * Either a JSON object defining the chart, or a serialized string version of that object.\n   * The format of this object is shown in the\n   * {@link https://developers.google.com/chart/interactive/docs/reference#google.visualization.drawchart `drawChart()`} documentation.\n   *\n   * The `container` and `containerId` will be overwritten by this component to allow\n   * rendering the chart into the components' template.\n   */\n  @Input()\n  public specs?: google.visualization.ChartSpecs;\n\n  @Output()\n  public error = new EventEmitter<ChartErrorEvent>();\n\n  @Output()\n  public ready = new EventEmitter<ChartReadyEvent>();\n\n  @Output()\n  public select = new EventEmitter<ChartSelectionChangedEvent>();\n\n  private wrapper: google.visualization.ChartWrapper | undefined;\n  private wrapperReadySubject = new ReplaySubject<google.visualization.ChartWrapper>(1);\n  private initialized = false;\n\n  constructor(private element: ElementRef, private scriptLoaderService: ScriptLoaderService) {}\n\n  public get chart(): google.visualization.ChartBase | null {\n    return this.chartWrapper.getChart();\n  }\n\n  public get wrapperReady$() {\n    return this.wrapperReadySubject.asObservable();\n  }\n\n  public get chartWrapper(): google.visualization.ChartWrapper {\n    if (!this.wrapper) {\n      throw new Error('Cannot access the chart wrapper before initialization.');\n    }\n\n    return this.wrapper;\n  }\n\n  public set chartWrapper(wrapper: google.visualization.ChartWrapper) {\n    this.wrapper = wrapper;\n    this.drawChart();\n  }\n\n  public ngOnInit() {\n    // We don't need to load any chart packages, the chart wrapper will handle this else for us\n    this.scriptLoaderService.loadChartPackages().subscribe(() => {\n      if (!this.specs) {\n        this.specs = {} as google.visualization.ChartSpecs;\n      }\n\n      const { containerId, container, ...specs } = this.specs;\n\n      // Only ever create the wrapper once to allow animations to happen if something changes.\n      this.wrapper = new google.visualization.ChartWrapper({\n        ...specs,\n        container: this.element.nativeElement\n      });\n      this.registerChartEvents();\n\n      this.wrapperReadySubject.next(this.wrapper);\n\n      this.drawChart();\n      this.initialized = true;\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    if (!this.initialized) {\n      return;\n    }\n\n    if (changes.specs) {\n      this.updateChart();\n      this.drawChart();\n    }\n  }\n\n  private updateChart() {\n    if (!this.specs) {\n      // When creating the wrapper with empty specs, the google charts library will show an error\n      // If we don't do this, a javascript error will be thrown, which is not as visible to the user\n      this.specs = {} as google.visualization.ChartSpecs;\n    }\n\n    // The typing here are not correct. These methods accept `undefined` as well.\n    // That's why we have to cast to `any`\n\n    this.wrapper!.setChartType(this.specs.chartType);\n    this.wrapper!.setDataTable(this.specs.dataTable as any);\n    this.wrapper!.setDataSourceUrl(this.specs.dataSourceUrl as any);\n    this.wrapper!.setDataSourceUrl(this.specs.dataSourceUrl as any);\n    this.wrapper!.setQuery(this.specs.query as any);\n    this.wrapper!.setOptions(this.specs.options as any);\n    this.wrapper!.setRefreshInterval(this.specs.refreshInterval as any);\n    this.wrapper!.setView(this.specs.view);\n  }\n\n  private drawChart() {\n    if (this.wrapper) {\n      this.wrapper.draw();\n    }\n  }\n\n  private registerChartEvents() {\n    google.visualization.events.removeAllListeners(this.wrapper);\n\n    const registerChartEvent = (object: any, eventName: string, callback: Function) => {\n      google.visualization.events.addListener(object, eventName, callback);\n    };\n\n    registerChartEvent(this.wrapper, 'ready', () => this.ready.emit({ chart: this.chart! }));\n    registerChartEvent(this.wrapper, 'error', (error: ChartErrorEvent) => this.error.emit(error));\n    registerChartEvent(this.wrapper, 'select', () => {\n      const selection = this.chart!.getSelection();\n      this.select.emit({ selection });\n    });\n  }\n}\n","import { ChartType } from '../models/chart-type.model';\n\nconst ChartTypesToPackages = {\n  [ChartType.AnnotationChart]: 'annotationchart',\n  [ChartType.AreaChart]: 'corechart',\n  [ChartType.Bar]: 'bar',\n  [ChartType.BarChart]: 'corechart',\n  [ChartType.BubbleChart]: 'corechart',\n  [ChartType.Calendar]: 'calendar',\n  [ChartType.CandlestickChart]: 'corechart',\n  [ChartType.ColumnChart]: 'corechart',\n  [ChartType.ComboChart]: 'corechart',\n  [ChartType.PieChart]: 'corechart',\n  [ChartType.Gantt]: 'gantt',\n  [ChartType.Gauge]: 'gauge',\n  [ChartType.GeoChart]: 'geochart',\n  [ChartType.Histogram]: 'corechart',\n  [ChartType.Line]: 'line',\n  [ChartType.LineChart]: 'corechart',\n  [ChartType.Map]: 'map',\n  [ChartType.OrgChart]: 'orgchart',\n  [ChartType.Sankey]: 'sankey',\n  [ChartType.Scatter]: 'scatter',\n  [ChartType.ScatterChart]: 'corechart',\n  [ChartType.SteppedAreaChart]: 'corechart',\n  [ChartType.Table]: 'table',\n  [ChartType.Timeline]: 'timeline',\n  [ChartType.TreeMap]: 'treemap',\n  [ChartType.WordTree]: 'wordtree'\n};\n\nexport function getPackageForChart(type: ChartType): string {\n  return ChartTypesToPackages[type];\n}\n","export enum FilterType {\n  Category = 'CategoryFilter',\n  ChartRange = 'ChartRangeFilter',\n  DateRange = 'DateRangeFilter',\n  NumberRange = 'NumberRangeFilter',\n  String = 'StringFilter'\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { ChartEditorComponent } from './components/chart-editor/chart-editor.component';\nimport { ChartWrapperComponent } from './components/chart-wrapper/chart-wrapper.component';\nimport { ControlWrapperComponent } from './components/control-wrapper/control-wrapper.component';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\nimport { GoogleChartComponent } from './components/google-chart/google-chart.component';\nimport { GoogleChartsConfig } from './models/google-charts-config.model';\nimport { GOOGLE_CHARTS_CONFIG } from './models/injection-tokens.model';\nimport { ScriptLoaderService } from './script-loader/script-loader.service';\n\n@NgModule({\n  declarations: [GoogleChartComponent, ChartWrapperComponent, DashboardComponent, ControlWrapperComponent, ChartEditorComponent],\n  providers: [ScriptLoaderService],\n  exports: [GoogleChartComponent, ChartWrapperComponent, DashboardComponent, ControlWrapperComponent, ChartEditorComponent]\n})\nexport class GoogleChartsModule {\n  public static forRoot(config: GoogleChartsConfig = {}): ModuleWithProviders<GoogleChartsModule> {\n    return {\n      ngModule: GoogleChartsModule,\n      providers: [{ provide: GOOGLE_CHARTS_CONFIG, useValue: config }]\n    };\n  }\n}\n"]}